<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø¯Ø§Ø¡</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="dashboard-container">
        <aside class="sidebar">
            <h2>M - SoftTech</h2>
            <ul>
                <li><a href="index.html">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                <li><a href="users.html">ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</a></li>
                <li><a href="tasks.html">ğŸ“ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù‡Ø§Ù…</a></li>
                <li><a href="performance.html" class="active">ğŸ“Š ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø¯Ø§Ø¡</a></li>
                <li><a href="settings.html">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</a></li>
                <li><a href="support.html">ğŸ“ Ø§Ù„Ø¯Ø¹Ù…</a></li>
                <li class="logout"><a href="#">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a></li>
            </ul>
        </aside>

        <main class="main-content">
            <header>
                <h1>ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø¯Ø§Ø¡</h1>
            </header>

            <!-- âœ… Ù‚ÙˆØ§Ø¦Ù… ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø¯Ø§Ø¡ -->
            <section class="performance-lists">
                <div class="list">
                    <h2>ğŸ“Œ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¹ÙŠØ¯ÙŠÙ†</h2>
                    <ul id="assistantList"></ul>
                </div>
                <div class="list">
                    <h2>ğŸ“Œ Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø¯ÙˆØ¨ÙŠÙ† Ø§Ù„Ø¯ÙØ¹Ø©</h2>
                    <ul id="batchRepList"></ul>
                </div>
                <div class="list">
                    <h2>ğŸ“Œ Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø¯ÙˆØ¨ÙŠÙ† Ø§Ù„Ø³ÙƒØ§Ø´Ù†</h2>
                    <ul id="sectionRepList"></ul>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            fetch("get_performance.php")
                .then(response => response.json())
                .then(data => {
                    populateList("assistantList", data.assistants);
                    populateList("batchRepList", data.batchReps);
                    populateList("sectionRepList", data.sectionReps);
                })
                .catch(error => console.error("Error fetching data:", error));
        });

        function populateList(elementId, usersList) {
            const listElement = document.getElementById(elementId);
            listElement.innerHTML = "";
            usersList.forEach(user => {
                let listItem = document.createElement("li");
                let status = user.completedTasks > 0 ? "âœ… Ù†Ø´Ø·" : "âŒ ØºÙŠØ± Ù†Ø´Ø·";
                listItem.textContent = `${user.name} - ğŸ“ ${user.completedTasks} / ${user.totalTasks} Ù…Ù‡Ø§Ù… - ${status}`;
                listElement.appendChild(listItem);
            });
        }
    </script>

    <style>
        .performance-lists {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .list {
            width: 30%;
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .list h2 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
        }

        .list ul {
            list-style: none;
            padding: 0;
        }

        .list ul li {
            background: #fff;
            margin: 5px 0;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    </style>

</body>
</html>
